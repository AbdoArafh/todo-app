const I=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const o of c)if(o.type==="childList")for(const f of o.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(c){const o={};return c.integrity&&(o.integrity=c.integrity),c.referrerpolicy&&(o.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?o.credentials="include":c.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(c){if(c.ep)return;c.ep=!0;const o=n(c);fetch(c.href,o)}};I();var $="/todo-app/assets/bg-desktop-light.c99caf89.jpg",w="/todo-app/assets/bg-desktop-dark.cf72eaad.jpg",D="/todo-app/assets/bg-mobile-dark.0b3e4071.jpg",O="/todo-app/assets/bg-mobile-light.df636158.jpg",A="/todo-app/assets/icon-moon.dadf6d0a.svg",q="/todo-app/assets/icon-sun.fc80f87a.svg",j="/todo-app/assets/icon-check.bcf055e6.svg";const s=document.querySelector.bind(document),y=document.querySelectorAll.bind(document);HTMLElement.prototype.on=function(e,t,n){this.addEventListener(e,t,n)};const g=s("#listEl"),h=s("#inputEl"),k=s("#checkboxEl"),E=s("#filtersEl"),v=s("#toggleDarkEl"),F=s("#itemsLeftEl");let a=!1,L=!0;const M=[`url("${A}")`,`url("${q}")`],T=[[`url("${O}")`,`url("${D}")`],[`url("${$}")`,`url("${w}")`]],B="linear-gradient(to bottom right, hsl(192, 100%, 67%), hsl(280, 87%, 65%))";Array.from(y(".mark input[type=checkbox]")).forEach(J);v.on("click",z);class H{constructor(t,n=!1){this.value=t,this.checked=n}}let l=[];function N(){let{width:e}=this.getComputedStyle(document.body);e=Number(e.replace("px","")),L=e>640,x()}N.call(window);window.addEventListener("resize",N);function x(){v.style.backgroundImage=M[Number(a)],document.body.style.backgroundImage=T[Number(L)][Number(a)]}function S(e){a=e,localStorage.setItem("isDark",a),document.body.className=a?"dark":"",x()}function z(){S(!a)}function i(e){const t=e.checked,n=e.parentElement.querySelector(".checkmark");n.style.backgroundImage=t?`url("${j}"), ${B}`:""}function J(e){e.addEventListener("input",t=>i(t.target))}function m(){F.textContent=l.filter(e=>!e.checked).length}function C(e){const t=e.parentElement.parentElement,n=Array.from(g.children).indexOf(t);return t.parentElement.children[n].classList.toggle("completed"),l[n].checked=!l[n].checked,i(e),m(),u(),!1}function P(e){const t=document.createElement("div");t.className="mark";const n=document.createElement("input");n.type="checkbox",n.checked=e,n.on("click",c=>C(c.target)),t.appendChild(n);const r=document.createElement("div");return r.className="checkmark",t.appendChild(r),i(n),t}function G(e){const t=document.createElement("li");t.appendChild(P(e.checked));const n=document.createElement("span");n.textContent=e.value,n.on("click",c=>{const o=c.target.parentElement.querySelector("input[type=checkbox]");C(o),o.checked=!o.checked,i(o)}),t.appendChild(n);const r=document.createElement("button");return r.className="delete-button",r.textContent="X",r.dataset.index=l.indexOf(e),r.addEventListener("click",c=>{l.splice(Number(c.target.dataset.index),1),m(),p(),u()}),t.appendChild(r),t.className=e.checked?"completed":"",t.draggable=!0,t}function b(e){g.innerHTML="",u(),e.forEach(t=>g.appendChild(G(t)))}function K(e){l.push(e),b(l)}function X(e){if(e.preventDefault(),!h.value)return;const t=new H(h.value,k.checked);h.value="",k.checked=!1,i(k),m(),K(t),p()}s("#form").on("submit",X);let d="All";function p(){b(l.filter(_[d]))}function Q(e){E.innerHTML="",Object.keys(e).forEach(t=>{const n=document.createElement("span");n.textContent=t,n.className=t===d?"active":"",n.on("click",r=>(d=t,u(),r.target.parentElement.querySelector(".active").classList.remove("active"),r.target.classList.add("active"),p(),!1)),E.appendChild(n)})}const _={All:()=>!0,Active:e=>!e.checked,Completed:e=>e.checked};s("#clearEl").on("click",()=>{l=l.filter(e=>!e.checked),b(l),u()});window.addEventListener("load",()=>{var e,t,n;l=JSON.parse((e=localStorage.getItem("notes"))!=null?e:"[]"),d=(t=localStorage.getItem("chosenFilter"))!=null?t:"All",y(".mark input[type=checkbox]").forEach(i),a=((n=localStorage.getItem("isDark"))!=null?n:"false")==="true",S(a),m(),Q(_),p()});function u(){localStorage.setItem("notes",JSON.stringify(l)),localStorage.setItem("chosenFilter",d)}
