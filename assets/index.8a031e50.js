const y=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const o of c)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function n(c){const o={};return c.integrity&&(o.integrity=c.integrity),c.referrerpolicy&&(o.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?o.credentials="include":c.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(c){if(c.ep)return;c.ep=!0;const o=n(c);fetch(c.href,o)}};y();const i=document.querySelector.bind(document);HTMLElement.prototype.on=function(t,e,n){this.addEventListener(t,e,n)};class v{constructor(e,n=!1){this.value=e,this.checked=n}}let r=[];const u=i("#listEl"),h=i("#inputEl"),p=i("#checkboxEl"),k=i("#filtersEl");function E(t){const e=t.parentElement.parentElement,n=Array.from(u.children).indexOf(e);return e.parentElement.children[n].classList.toggle("completed"),r[n].checked=!r[n].checked,a(),!1}function b(t){const e=document.createElement("div");e.className="mark";const n=document.createElement("input");n.type="checkbox",n.checked=t,n.on("click",c=>E(c.target)),e.appendChild(n);const l=document.createElement("div");return l.className="checkmark",e.appendChild(l),e}function x(t){const e=document.createElement("li");e.appendChild(b(t.checked));const n=document.createElement("span");return n.textContent=t.value,n.on("click",l=>{const c=l.target.parentElement.querySelector("input[type=checkbox]");E(c),c.checked=!c.checked}),e.appendChild(n),e.className=t.checked?"completed":"",e.draggable=!0,e}function m(t){u.innerHTML="",a(),t.forEach(e=>u.appendChild(x(e)))}function L(t){r.push(t),m(r)}function N(t){t.preventDefault();const e=new v(h.value,p.checked);h.value="",p.checked=!1,L(e),f()}i("#form").on("submit",N);let s="All";function f(){m(r.filter(g[s]))}function S(t){k.innerHTML="",Object.keys(t).forEach(e=>{const n=document.createElement("span");n.textContent=e,n.className=e===s?"active":"",n.on("click",l=>(s=e,a(),l.target.parentElement.querySelector(".active").classList.remove("active"),l.target.classList.add("active"),f(),!1)),k.appendChild(n)})}const g={All:()=>!0,Active:t=>!t.checked,Completed:t=>t.checked};i("#clearEl").on("click",()=>{r=r.filter(t=>!t.checked),m(r),a()});window.addEventListener("load",()=>{var t,e;r=JSON.parse((t=localStorage.getItem("notes"))!=null?t:"[]"),s=(e=localStorage.getItem("chosenFilter"))!=null?e:"All",S(g),f()});function a(){localStorage.setItem("notes",JSON.stringify(r)),localStorage.setItem("chosenFilter",s)}
