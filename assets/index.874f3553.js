const I=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const m of c.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerpolicy&&(c.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?c.credentials="include":o.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}};I();var $="/todo-app/assets/bg-desktop-light.c99caf89.jpg",w="/todo-app/assets/bg-desktop-dark.cf72eaad.jpg",D="/todo-app/assets/bg-mobile-dark.0b3e4071.jpg",A="/todo-app/assets/bg-mobile-light.df636158.jpg",O="/todo-app/assets/icon-moon.dadf6d0a.svg",q="/todo-app/assets/icon-sun.fc80f87a.svg",j="/todo-app/assets/icon-check.bcf055e6.svg";const s=document.querySelector.bind(document),y=document.querySelectorAll.bind(document);HTMLElement.prototype.on=function(e,t,n){this.addEventListener(e,t,n)};const f=s("#listEl"),p=s("#inputEl"),h=s("#checkboxEl"),E=s("#filtersEl"),v=s("#toggleDarkEl"),F=s("#itemsLeftEl");let a=!1,L=!0;const M=[`url("${O}")`,`url("${q}")`],T=[[`url("${A}")`,`url("${D}")`],[`url("${$}")`,`url("${w}")`]],B="linear-gradient(to bottom right, hsl(192, 100%, 67%), hsl(280, 87%, 65%))";Array.from(y(".mark input[type=checkbox]")).forEach(J);v.on("click",z);class H{constructor(t,n=!1){this.value=t,this.checked=n}}let l=[];function N(){let{width:e}=this.getComputedStyle(document.body);e=Number(e.replace("px","")),L=e>640,S()}N.call(window);window.addEventListener("resize",N);function S(){v.style.backgroundImage=M[Number(a)],document.body.style.backgroundImage=T[Number(L)][Number(a)]}function C(e){a=e,localStorage.setItem("isDark",a),document.body.className=a?"dark":"",S()}function z(){C(!a)}function i(e){const t=e.checked,n=e.parentElement.querySelector(".checkmark");n.style.backgroundImage=t?`url("${j}"), ${B}`:""}function J(e){e.addEventListener("input",t=>i(t.target))}function k(){F.textContent=l.filter(e=>!e.checked).length}function x(e){const t=e.parentElement.parentElement,n=Array.from(f.children).indexOf(t);return t.parentElement.children[n].classList.toggle("completed"),l[n].checked=!l[n].checked,i(e),k(),u(),!1}function P(e){const t=document.createElement("div");t.className="mark";const n=document.createElement("input");n.type="checkbox",n.checked=e,n.on("click",o=>x(o.target)),t.appendChild(n);const r=document.createElement("div");return r.className="checkmark",t.appendChild(r),i(n),t}function G(e){const t=document.createElement("li");t.appendChild(P(e.checked));const n=document.createElement("span");n.textContent=e.value,n.on("click",o=>{const c=o.target.parentElement.querySelector("input[type=checkbox]");x(c),c.checked=!c.checked,i(c)}),t.appendChild(n);const r=document.createElement("button");return r.className="delete-button",r.textContent="X",t.appendChild(r),t.className=e.checked?"completed":"",t.draggable=!0,t}function g(e){f.innerHTML="",u(),e.forEach(t=>f.appendChild(G(t)))}function K(e){l.push(e),g(l)}function X(e){if(e.preventDefault(),!p.value)return;const t=new H(p.value,h.checked);p.value="",h.checked=!1,i(h),k(),K(t),b()}s("#form").on("submit",X);let d="All";function b(){g(l.filter(_[d]))}function Q(e){E.innerHTML="",Object.keys(e).forEach(t=>{const n=document.createElement("span");n.textContent=t,n.className=t===d?"active":"",n.on("click",r=>(d=t,u(),r.target.parentElement.querySelector(".active").classList.remove("active"),r.target.classList.add("active"),b(),!1)),E.appendChild(n)})}const _={All:()=>!0,Active:e=>!e.checked,Completed:e=>e.checked};s("#clearEl").on("click",()=>{l=l.filter(e=>!e.checked),g(l),u()});window.addEventListener("load",()=>{var e,t,n;l=JSON.parse((e=localStorage.getItem("notes"))!=null?e:"[]"),d=(t=localStorage.getItem("chosenFilter"))!=null?t:"All",y(".mark input[type=checkbox]").forEach(i),a=((n=localStorage.getItem("isDark"))!=null?n:"false")==="true",C(a),k(),Q(_),b()});function u(){localStorage.setItem("notes",JSON.stringify(l)),localStorage.setItem("chosenFilter",d)}
