const _=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const s of c.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerpolicy&&(c.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?c.credentials="include":r.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(r){if(r.ep)return;r.ep=!0;const c=t(r);fetch(r.href,c)}};_();var w="/todo-app/assets/bg-desktop-light.c99caf89.jpg",A="/todo-app/assets/bg-desktop-dark.cf72eaad.jpg",O="/todo-app/assets/bg-mobile-dark.0b3e4071.jpg",$="/todo-app/assets/bg-mobile-light.df636158.jpg",T="/todo-app/assets/icon-moon.dadf6d0a.svg",q="/todo-app/assets/icon-sun.fc80f87a.svg",j="/todo-app/assets/icon-check.bcf055e6.svg";const d=document.querySelector.bind(document),y=document.querySelectorAll.bind(document);HTMLElement.prototype.on=function(e,n,t){this.addEventListener(e,n,t)};const k=d("#listEl"),g=d("#inputEl"),h=d("#checkboxEl"),b=d("#filtersEl"),L=d("#toggleDarkEl"),M=d("#itemsLeftEl");let l=!0,x=!0;const F=[`url("${T}")`,`url("${q}")`],H=[[`url("${$}")`,`url("${O}")`],[`url("${w}")`,`url("${A}")`]],B="linear-gradient(to bottom right, hsl(192, 100%, 67%), hsl(280, 87%, 65%))";Array.from(y(".mark input[type=checkbox]")).forEach(J);L.on("click",z);class P{constructor(n,t=!1){this.value=n,this.checked=t}}let o=[];function S(){let{width:e}=this.getComputedStyle(document.body);e=Number(e.replace("px","")),x=e>640,N()}S.call(window);window.addEventListener("resize",S);function N(){L.style.backgroundImage=F[Number(l)],document.body.style.backgroundImage=H[Number(x)][Number(l)]}function C(e){l=e,localStorage.setItem("isDark",l),document.body.className=l?"dark":"",N()}function z(){C(!l)}function i(e){const n=e.checked,t=e.parentElement.querySelector(".checkmark");t.style.backgroundImage=n?`url("${j}"), ${B}`:""}function J(e){e.addEventListener("input",n=>i(n.target))}function p(){M.textContent=o.filter(e=>!e.checked).length}function D(e){const n=e.parentElement.parentElement,t=Array.from(k.children).indexOf(n);return n.parentElement.children[t].classList.toggle("completed"),o[t].checked=!o[t].checked,i(e),p(),u(),!1}function G(e){const n=document.createElement("div");n.className="mark";const t=document.createElement("input");t.type="checkbox",t.checked=e,t.on("click",r=>D(r.target)),n.appendChild(t);const a=document.createElement("div");return a.className="checkmark",n.appendChild(a),i(t),n}function K(e,n){const t=document.createElement("li");t.appendChild(G(e.checked));const a=document.createElement("span");a.textContent=e.value,a.on("click",c=>{const s=c.target.parentElement.querySelector("input[type=checkbox]");D(s),s.checked=!s.checked,i(s)}),t.appendChild(a);const r=document.createElement("button");return r.className="delete-button",r.textContent="X",r.dataset.index=o.indexOf(e),r.addEventListener("click",c=>{o.splice(Number(c.target.dataset.index),1),p(),f(),u()}),t.appendChild(r),t.className=e.checked?"completed":"",t.draggable=!0,t.dataset.index=n,te(t),t}function v(e,n=e){k.innerHTML="",u(),e.forEach(t=>k.appendChild(K(t,n.indexOf(t))))}function X(e){o.push(e),v(o)}function Q(e){if(e.preventDefault(),!g.value)return;const n=new P(g.value,h.checked);g.value="",h.checked=!1,i(h),p(),X(n),f()}d("#form").on("submit",Q);let m="All";function f(){v(o.filter(I[m]),o)}function R(e){b.innerHTML="",Object.keys(e).forEach(n=>{const t=document.createElement("span");t.textContent=n,t.className=n===m?"active":"",t.on("click",a=>(m=n,u(),a.target.parentElement.querySelector(".active").classList.remove("active"),a.target.classList.add("active"),f(),!1)),b.appendChild(t)})}const I={All:()=>!0,Active:e=>!e.checked,Completed:e=>e.checked};d("#clearEl").on("click",()=>{o=o.filter(e=>!e.checked),v(o),u()});window.addEventListener("load",()=>{var e,n,t;o=JSON.parse((e=localStorage.getItem("notes"))!=null?e:"[]"),m=(n=localStorage.getItem("chosenFilter"))!=null?n:"All",y(".mark input[type=checkbox]").forEach(i),l=((t=localStorage.getItem("isDark"))!=null?t:"false")==="true",C(l),p(),R(I),f()});function u(){localStorage.setItem("notes",JSON.stringify(o)),localStorage.setItem("chosenFilter",m)}let E;function U(e){this.style.opacity="0.4",E=this,e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",this.innerHTML)}function V(e){this.classList.add("over")}function W(e){e.stopPropagation(),this.classList.remove("over")}function Y(e){return e.preventDefault(),e.dataTransfer.dropEffect="move",!1}function Z(e){if(E!=this){const n=+this.dataset.index,t=+E.dataset.index;[o[n],o[t]]=[o[t],o[n]],u(),f()}return!1}function ee(e){var n=document.querySelectorAll("[draggable=true]");n.forEach(t=>t.classList.remove("over")),this.style.opacity="1"}function te(e){e.addEventListener("dragstart",U),e.addEventListener("dragenter",V),e.addEventListener("dragover",Y),e.addEventListener("dragleave",W),e.addEventListener("drop",Z),e.addEventListener("dragend",ee)}
