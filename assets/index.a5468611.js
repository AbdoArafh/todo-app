const S=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const o of c)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function n(c){const o={};return c.integrity&&(o.integrity=c.integrity),c.referrerpolicy&&(o.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?o.credentials="include":c.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(c){if(c.ep)return;c.ep=!0;const o=n(c);fetch(c.href,o)}};S();var C="/todo-app/assets/bg-desktop-light.c99caf89.jpg",I="/todo-app/assets/icon-moon.dadf6d0a.svg",_="/todo-app/assets/icon-sun.fc80f87a.svg",A="/todo-app/assets/icon-check.bcf055e6.svg";const a=document.querySelector.bind(document),b=document.querySelectorAll.bind(document);HTMLElement.prototype.on=function(e,t,n){this.addEventListener(e,t,n)};const p=a("#listEl"),m=a("#inputEl"),h=a("#checkboxEl"),y=a("#filtersEl"),v=a("#toggleDarkEl"),O=a("#itemsLeftEl"),$="linear-gradient(to bottom right, hsl(192, 100%, 67%), hsl(280, 87%, 65%))";Array.from(b(".mark input[type=checkbox]")).forEach(F);document.body.style.backgroundImage=`url("${C}")`;const L=[`url("${I}")`,`url("${_}")`];let f=!1;v.style.backgroundImage=L[0];v.on("click",D);class q{constructor(t,n=!1){this.value=t,this.checked=n}}let r=[];function D(e){f=!f,e.target.style.backgroundImage=L[Number(f)]}function i(e){const t=e.checked,n=e.parentElement.querySelector(".checkmark");n.style.backgroundImage=t?`url("${A}"), ${$}`:""}function F(e){e.addEventListener("input",t=>i(t.target))}function k(){O.textContent=r.filter(e=>!e.checked).length}function x(e){const t=e.parentElement.parentElement,n=Array.from(p.children).indexOf(t);return t.parentElement.children[n].classList.toggle("completed"),r[n].checked=!r[n].checked,i(e),k(),d(),!1}function w(e){const t=document.createElement("div");t.className="mark";const n=document.createElement("input");n.type="checkbox",n.checked=e,n.on("click",c=>x(c.target)),t.appendChild(n);const l=document.createElement("div");return l.className="checkmark",t.appendChild(l),i(n),t}function M(e){const t=document.createElement("li");t.appendChild(w(e.checked));const n=document.createElement("span");return n.textContent=e.value,n.on("click",l=>{const c=l.target.parentElement.querySelector("input[type=checkbox]");x(c),c.checked=!c.checked}),t.appendChild(n),t.className=e.checked?"completed":"",t.draggable=!0,t}function g(e){p.innerHTML="",d(),e.forEach(t=>p.appendChild(M(t)))}function T(e){r.push(e),g(r)}function H(e){if(e.preventDefault(),!m.value)return;const t=new q(m.value,h.checked);m.value="",h.checked=!1,i(h),k(),T(t),E()}a("#form").on("submit",H);let s="All";function E(){g(r.filter(N[s]))}function P(e){y.innerHTML="",Object.keys(e).forEach(t=>{const n=document.createElement("span");n.textContent=t,n.className=t===s?"active":"",n.on("click",l=>(s=t,d(),l.target.parentElement.querySelector(".active").classList.remove("active"),l.target.classList.add("active"),E(),!1)),y.appendChild(n)})}const N={All:()=>!0,Active:e=>!e.checked,Completed:e=>e.checked};a("#clearEl").on("click",()=>{r=r.filter(e=>!e.checked),g(r),d()});window.addEventListener("load",()=>{var e,t;r=JSON.parse((e=localStorage.getItem("notes"))!=null?e:"[]"),s=(t=localStorage.getItem("chosenFilter"))!=null?t:"All",b(".mark input[type=checkbox]").forEach(i),k(),P(N),E()});function d(){localStorage.setItem("notes",JSON.stringify(r)),localStorage.setItem("chosenFilter",s)}
